{# Cisco ASA Configuration Template - Simplified Version #}
{# Generated by Nautobot Golden Config #}
{# This version only uses basic Device attributes, no Config Context required #}

! ============================================
! Device: {{ obj.name }}
! Location: {{ obj.location.name if obj.location else "Unknown" }}
! Platform: {{ obj.platform.name if obj.platform else "Unknown" }}
! Serial: {{ obj.serial if obj.serial else "N/A" }}
! Generated: {{ now.strftime('%Y-%m-%d %H:%M:%S') }}
! ============================================

! ===== BASIC CONFIGURATION =====
hostname {{ obj.name }}

! ===== DOMAIN CONFIGURATION =====
domain-name example.com

! ===== MANAGEMENT INTERFACE =====
{% if obj.primary_ip4 %}
interface Management0/0
 nameif management
 security-level 100
 ip address {{ obj.primary_ip4.address.ip }} {{ obj.primary_ip4.address.netmask }}
 no shutdown
{% endif %}

! ===== ADDITIONAL INTERFACES =====
{% for interface in obj.interfaces.all() %}
{% if interface.enabled and interface.name != "Management0/0" %}
interface {{ interface.name }}
 nameif {{ interface.name|lower|replace('/', '_') }}
{% if interface.description %}
 description {{ interface.description }}
{% endif %}
 security-level 0
{% for ip_address in interface.ip_addresses.all() %}
 ip address {{ ip_address.address.ip }} {{ ip_address.address.netmask }}
{% endfor %}
 no shutdown
{% endif %}
{% endfor %}

! ===== SSH CONFIGURATION =====
crypto key generate rsa modulus 2048
ssh version 2
ssh timeout 30
ssh 0.0.0.0 0.0.0.0 management

! ===== BANNER =====
banner motd ***********************************************
banner motd * Unauthorized access is strictly prohibited *
banner motd * This system is managed by Nautobot        *
banner motd * Device: {{ obj.name }}
banner motd * Location: {{ obj.location.name if obj.location else "Unknown" }}
banner motd ***********************************************

! ===== END OF CONFIGURATION =====


